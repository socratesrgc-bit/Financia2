<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Financiero</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-4">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-8">ðŸ’° Mis Finanzas</h1>

        <!-- Formularios -->
        <div class="grid md:grid-cols-2 gap-6 mb-8">
            <!-- Ingreso -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">âž• Agregar Ingreso</h2>
                <input type="text" id="income-desc" placeholder="DescripciÃ³n" class="w-full p-2 border rounded mb-2">
                <input type="number" id="income-amount" placeholder="Monto" class="w-full p-2 border rounded mb-4">
                <button onclick="addIncome()" class="w-full bg-green-500 text-white p-2 rounded hover:bg-green-600">
                    Agregar Ingreso
                </button>
            </div>

            <!-- Gasto -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">âž– Agregar Gasto</h2>
                <input type="text" id="expense-desc" placeholder="DescripciÃ³n" class="w-full p-2 border rounded mb-2">
                <input type="number" id="expense-amount" placeholder="Monto" class="w-full p-2 border rounded mb-4">
                <button onclick="addExpense()" class="w-full bg-red-500 text-white p-2 rounded hover:bg-red-600">
                    Agregar Gasto
                </button>
            </div>
        </div>

        <!-- EstadÃ­sticas -->
        <div class="grid grid-cols-3 gap-4 mb-8">
            <div class="bg-white p-4 rounded-lg shadow text-center">
                <div class="text-2xl font-bold text-green-600" id="total-income">S/ 0</div>
                <div class="text-sm text-gray-600">Total Ingresos</div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow text-center">
                <div class="text-2xl font-bold text-red-600" id="total-expense">S/ 0</div>
                <div class="text-sm text-gray-600">Total Gastos</div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow text-center">
                <div class="text-2xl font-bold text-blue-600" id="balance">S/ 0</div>
                <div class="text-sm text-gray-600">Balance</div>
            </div>
        </div>

        <!-- Listas -->
        <div class="grid md:grid-cols-2 gap-6">
            <!-- Ingresos -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">ðŸ“¥ Ingresos</h2>
                <div id="income-list" class="space-y-2">
                    <!-- Los ingresos aparecerÃ¡n aquÃ­ -->
                </div>
            </div>

            <!-- Gastos -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">ðŸ“¤ Gastos</h2>
                <div id="expense-list" class="space-y-2">
                    <!-- Los gastos aparecerÃ¡n aquÃ­ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Datos en memoria (simples)
        let incomes = JSON.parse(localStorage.getItem('incomes')) || [];
        let expenses = JSON.parse(localStorage.getItem('expenses')) || [];

        // Cargar datos al iniciar
        window.addEventListener('load', function() {
            updateDisplay();
        });

        // FunciÃ³n para agregar ingreso
        function addIncome() {
            const desc = document.getElementById('income-desc').value;
            const amount = parseFloat(document.getElementById('income-amount').value);

            if (!desc || !amount) {
                alert('Por favor completa todos los campos');
                return;
            }

            const income = {
                id: Date.now(),
                desc: desc,
                amount: amount,
                date: new Date().toLocaleDateString()
            };

            incomes.push(income);
            saveData();
            updateDisplay();
            
            // Limpiar campos
            document.getElementById('income-desc').value = '';
            document.getElementById('income-amount').value = '';
        }

        // FunciÃ³n para agregar gasto
        function addExpense() {
            const desc = document.getElementById('expense-desc').value;
            const amount = parseFloat(document.getElementById('expense-amount').value);

            if (!desc || !amount) {
                alert('Por favor completa todos los campos');
                return;
            }

            const expense = {
                id: Date.now(),
                desc: desc,
                amount: amount,
                date: new Date().toLocaleDateString()
            };

            expenses.push(expense);
            saveData();
            updateDisplay();
            
            // Limpiar campos
            document.getElementById('expense-desc').value = '';
            document.getElementById('expense-amount').value = '';
        }

        // FunciÃ³n para eliminar (SIMPLE Y FUNCIONAL)
        function deleteItem(id, type) {
            if (confirm('Â¿EstÃ¡s seguro de eliminar?')) {
                if (type === 'income') {
                    incomes = incomes.filter(income => income.id !== id);
                } else {
                    expenses = expenses.filter(expense => expense.id !== id);
                }
                saveData();
                updateDisplay();
            }
        }

        // Guardar datos en localStorage
        function saveData() {
            localStorage.setItem('incomes', JSON.stringify(incomes));
            localStorage.setItem('expenses', JSON.stringify(expenses));
        }

        // Actualizar la visualizaciÃ³n
        function updateDisplay() {
            // Actualizar estadÃ­sticas
            const totalIncome = incomes.reduce((sum, item) => sum + item.amount, 0);
            const totalExpense = expenses.reduce((sum, item) => sum + item.amount, 0);
            const balance = totalIncome - totalExpense;

            document.getElementById('total-income').textContent = `S/ ${totalIncome.toFixed(2)}`;
            document.getElementById('total-expense').textContent = `S/ ${totalExpense.toFixed(2)}`;
            document.getElementById('balance').textContent = `S/ ${balance.toFixed(2)}`;

            // Actualizar lista de ingresos
            const incomeList = document.getElementById('income-list');
            if (incomes.length === 0) {
                incomeList.innerHTML = '<p class="text-gray-500 text-center">No hay ingresos</p>';
            } else {
                incomeList.innerHTML = incomes.map(income => `
                    <div class="flex justify-between items-center p-3 bg-green-50 rounded border">
                        <div>
                            <div class="font-medium">${income.desc}</div>
                            <div class="text-sm text-gray-600">${income.date}</div>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="font-bold text-green-600">S/ ${income.amount.toFixed(2)}</span>
                            <button onclick="deleteItem(${income.id}, 'income')" 
                                    class="text-red-500 hover:text-red-700">âœ•</button>
                        </div>
                    </div>
                `).join('');
            }

            // Actualizar lista de gastos
            const expenseList = document.getElementById('expense-list');
            if (expenses.length === 0) {
                expenseList.innerHTML = '<p class="text-gray-500 text-center">No hay gastos</p>';
            } else {
                expenseList.innerHTML = expenses.map(expense => `
                    <div class="flex justify-between items-center p-3 bg-red-50 rounded border">
                        <div>
                            <div class="font-medium">${expense.desc}</div>
                            <div class="text-sm text-gray-600">${expense.date}</div>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="font-bold text-red-600">S/ ${expense.amount.toFixed(2)}</span>
                            <button onclick="deleteItem(${expense.id}, 'expense')" 
                                    class="text-red-500 hover:text-red-700">âœ•</button>
                        </div>
                    </div>
                `).join('');
            }
        }
    </script>
</body>
</html><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Financiero</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-4">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-8">ðŸ’° Mis Finanzas</h1>

        <!-- Formularios -->
        <div class="grid md:grid-cols-2 gap-6 mb-8">
            <!-- Ingreso -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">âž• Agregar Ingreso</h2>
                <input type="text" id="income-desc" placeholder="DescripciÃ³n" class="w-full p-2 border rounded mb-2">
                <input type="number" id="income-amount" placeholder="Monto" class="w-full p-2 border rounded mb-4">
                <button onclick="addIncome()" class="w-full bg-green-500 text-white p-2 rounded hover:bg-green-600">
                    Agregar Ingreso
                </button>
            </div>

            <!-- Gasto -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">âž– Agregar Gasto</h2>
                <input type="text" id="expense-desc" placeholder="DescripciÃ³n" class="w-full p-2 border rounded mb-2">
                <input type="number" id="expense-amount" placeholder="Monto" class="w-full p-2 border rounded mb-4">
                <button onclick="addExpense()" class="w-full bg-red-500 text-white p-2 rounded hover:bg-red-600">
                    Agregar Gasto
                </button>
            </div>
        </div>

        <!-- EstadÃ­sticas -->
        <div class="grid grid-cols-3 gap-4 mb-8">
            <div class="bg-white p-4 rounded-lg shadow text-center">
                <div class="text-2xl font-bold text-green-600" id="total-income">S/ 0</div>
                <div class="text-sm text-gray-600">Total Ingresos</div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow text-center">
                <div class="text-2xl font-bold text-red-600" id="total-expense">S/ 0</div>
                <div class="text-sm text-gray-600">Total Gastos</div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow text-center">
                <div class="text-2xl font-bold text-blue-600" id="balance">S/ 0</div>
                <div class="text-sm text-gray-600">Balance</div>
            </div>
        </div>

        <!-- Listas -->
        <div class="grid md:grid-cols-2 gap-6">
            <!-- Ingresos -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">ðŸ“¥ Ingresos</h2>
                <div id="income-list" class="space-y-2">
                    <!-- Los ingresos aparecerÃ¡n aquÃ­ -->
                </div>
            </div>

            <!-- Gastos -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">ðŸ“¤ Gastos</h2>
                <div id="expense-list" class="space-y-2">
                    <!-- Los gastos aparecerÃ¡n aquÃ­ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Datos en memoria (simples)
        let incomes = JSON.parse(localStorage.getItem('incomes')) || [];
        let expenses = JSON.parse(localStorage.getItem('expenses')) || [];

        // Cargar datos al iniciar
        window.addEventListener('load', function() {
            updateDisplay();
        });

        // FunciÃ³n para agregar ingreso
        function addIncome() {
            const desc = document.getElementById('income-desc').value;
            const amount = parseFloat(document.getElementById('income-amount').value);

            if (!desc || !amount) {
                alert('Por favor completa todos los campos');
                return;
            }

            const income = {
                id: Date.now(),
                desc: desc,
                amount: amount,
                date: new Date().toLocaleDateString()
            };

            incomes.push(income);
            saveData();
            updateDisplay();
            
            // Limpiar campos
            document.getElementById('income-desc').value = '';
            document.getElementById('income-amount').value = '';
        }

        // FunciÃ³n para agregar gasto
        function addExpense() {
            const desc = document.getElementById('expense-desc').value;
            const amount = parseFloat(document.getElementById('expense-amount').value);

            if (!desc || !amount) {
                alert('Por favor completa todos los campos');
                return;
            }

            const expense = {
                id: Date.now(),
                desc: desc,
                amount: amount,
                date: new Date().toLocaleDateString()
            };

            expenses.push(expense);
            saveData();
            updateDisplay();
            
            // Limpiar campos
            document.getElementById('expense-desc').value = '';
            document.getElementById('expense-amount').value = '';
        }

        // FunciÃ³n para eliminar (SIMPLE Y FUNCIONAL)
        function deleteItem(id, type) {
            if (confirm('Â¿EstÃ¡s seguro de eliminar?')) {
                if (type === 'income') {
                    incomes = incomes.filter(income => income.id !== id);
                } else {
                    expenses = expenses.filter(expense => expense.id !== id);
                }
                saveData();
                updateDisplay();
            }
        }

        // Guardar datos en localStorage
        function saveData() {
            localStorage.setItem('incomes', JSON.stringify(incomes));
            localStorage.setItem('expenses', JSON.stringify(expenses));
        }

        // Actualizar la visualizaciÃ³n
        function updateDisplay() {
            // Actualizar estadÃ­sticas
            const totalIncome = incomes.reduce((sum, item) => sum + item.amount, 0);
            const totalExpense = expenses.reduce((sum, item) => sum + item.amount, 0);
            const balance = totalIncome - totalExpense;

            document.getElementById('total-income').textContent = `S/ ${totalIncome.toFixed(2)}`;
            document.getElementById('total-expense').textContent = `S/ ${totalExpense.toFixed(2)}`;
            document.getElementById('balance').textContent = `S/ ${balance.toFixed(2)}`;

            // Actualizar lista de ingresos
            const incomeList = document.getElementById('income-list');
            if (incomes.length === 0) {
                incomeList.innerHTML = '<p class="text-gray-500 text-center">No hay ingresos</p>';
            } else {
                incomeList.innerHTML = incomes.map(income => `
                    <div class="flex justify-between items-center p-3 bg-green-50 rounded border">
                        <div>
                            <div class="font-medium">${income.desc}</div>
                            <div class="text-sm text-gray-600">${income.date}</div>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="font-bold text-green-600">S/ ${income.amount.toFixed(2)}</span>
                            <button onclick="deleteItem(${income.id}, 'income')" 
                                    class="text-red-500 hover:text-red-700">âœ•</button>
                        </div>
                    </div>
                `).join('');
            }

            // Actualizar lista de gastos
            const expenseList = document.getElementById('expense-list');
            if (expenses.length === 0) {
                expenseList.innerHTML = '<p class="text-gray-500 text-center">No hay gastos</p>';
            } else {
                expenseList.innerHTML = expenses.map(expense => `
                    <div class="flex justify-between items-center p-3 bg-red-50 rounded border">
                        <div>
                            <div class="font-medium">${expense.desc}</div>
                            <div class="text-sm text-gray-600">${expense.date}</div>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="font-bold text-red-600">S/ ${expense.amount.toFixed(2)}</span>
                            <button onclick="deleteItem(${expense.id}, 'expense')" 
                                    class="text-red-500 hover:text-red-700">âœ•</button>
                        </div>
                    </div>
                `).join('');
            }
        }
    </script>
</body>
</html>
